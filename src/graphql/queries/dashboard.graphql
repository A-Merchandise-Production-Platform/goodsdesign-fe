query GetEnhancedManagerDashboard {
  getEnhancedManagerDashboard {
    stats {
      factories {
        total
        change
        changeType
      }
      orders {
        active
        change
        changeType
      }
      staff {
        total
        change
        changeType
      }
      revenue {
        monthly
        change
        changeType
      }
    }
    factoryPerformance {
      factoryId
      factoryName
      orderCount
      totalRevenue
    }
    orderStatus {
      status
      count
    }
  }
}

query GetManagerOrderDashboard {
  getManagerOrderDashboard {
    completedOrders
    inProductionOrders
    lastMonthCompletedOrders
    lastMonthInProductionOrders
    lastMonthOrders
    lastMonthPendingOrders
    pendingOrders
    totalOrders
  }
}

query GetFactoryDetailDashboard($factoryId: String!) {
  getFactoryDetailDashboard(factoryId: $factoryId) {
    inProductionOrders
    lastMonthInProductionOrders
    lastMonthPendingOrders
    lastMonthTotalOrders
    lastMonthTotalRevenue
    pendingOrders
    productionProgress {
      id
      status
      createdAt
      totalProductionCost
    }
    qualityIssues {
      id
      reportedAt
      issueType
      status
      description
      factoryOrder {
        id
        status
      }
    }
    recentOrders {
      id
      status
      totalProductionCost
      createdAt
      customerOrder {
        id
        status
        totalPrice
      }
    }
    totalOrders
    totalRevenue
  }
}

query GetStaffDashboard($userId: String!) {
  getStaffDashboard(userId: $userId) {
    activeTasks {
      id
      note
      startDate
      orderId
      status
      taskType
      taskname
      userId
      completedDate
      description
      assignedDate
    }
    completedTasks
    lastMonthActiveTasks
    lastMonthCompletedTasks
    taskHistory {
      id
      note
      startDate
      orderId
      status
      taskType
      taskname
      userId
      completedDate
      description
      assignedDate
    }
    totalActiveTasks
    totalTaskHistory
  }
  user(id: $userId) {
    id
    imageUrl
    isActive
    name
    phoneNumber
    role
    staffedFactory {
      name
      factoryOwnerId
      address {
        districtID
        factoryId
        provinceID
        street
        wardCode
      }
    }
    email
    deletedAt
    createdAt
    updatedAt
    gender
    dateOfBirth
  }
}

query GetAdminDashboard {
  getAdminDashboard {
    activeFactories
    activeUsers
    activeUsersChange
    activeUsersChangeType
    factoryPerformance {
      factoryId
      orderCount
      totalRevenue
    }
    pendingOrders
    pendingOrdersChange
    pendingOrdersChangeType
    recentOrders {
      id
      orderDate
      status
      totalPrice
      factory {
        id
        name
        factoryStatus
      }
    }
    totalCustomers
    totalFactories
    totalOrders
    totalProducts
    totalProductsChange
    totalProductsChangeType
    totalRevenue
    totalSales
    totalSalesChange
    totalSalesChangeType
  }
}
